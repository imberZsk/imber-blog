import Image from 'next/image'

## åŸºäº Tailwind çš„å“åº”å¼å¸ƒå±€ï¼ˆå«å›¾ç‰‡æ·±å…¥ç†è§£ï¼‰

- [Tailwind - responsive-design](https://tailwindcss.com/docs/responsive-design)
- [Nextjs - Image Optimization](https://nextjs.org/docs/app/getting-started/images)
- [Nextjs - Image](https://nextjs.org/docs/app/api-reference/components/image)
- [MDN - Responsive images](https://developer.mozilla.org/en-US/docs/Web/HTML/Guides/Responsive_images)

### å“åº”å¼å¸ƒå±€

å¦‚ä¸Šç¯‡æ–‡ç« æ‰€è¯´çš„ï¼Œå“åº”å¼å¸ƒå±€å’Œè‡ªé€‚åº”å¸ƒå±€çš„åŒºåˆ«ï¼Œè¿™é‡Œä¸å†èµ˜è¿°

å“åº”å¼å¸ƒå±€ï¼š

- æ ¹æ®å±å¹•å¤§å°è‡ªåŠ¨è°ƒæ•´å¸ƒå±€
- ä½¿ç”¨åª’ä½“æŸ¥è¯¢ï¼Œå•ä½åŸºæœ¬åªéœ€è¦ä½¿ç”¨ px
- ä½¿ç”¨flex,grid,ç™¾åˆ†æ¯”å¸ƒå±€
- éœ€è¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯ tailwind ä¸­éœ€è¦ç§»åŠ¨ç«¯ä¼˜å…ˆ

<video src="/posts/responsive/media2.mov" controls />

### ç§»åŠ¨ç«¯ä¼˜å…ˆ

æ— å‰ç¼€çš„ç±»åï¼ˆå¦‚ uppercaseï¼‰å¯¹æ‰€æœ‰å±å¹•å¤§å°éƒ½æœ‰æ•ˆï¼Œè€Œå¸¦å‰ç¼€çš„ç±»åï¼ˆå¦‚ mdï¼šuppercaseï¼‰ä»…åœ¨æŒ‡å®šçš„æ–­ç‚¹åŠä»¥ä¸Šå¤„ç”Ÿæ•ˆã€‚

å¼€å‘çš„æ—¶å€™åº”è¯¥å…ˆåšç§»åŠ¨ç«¯ï¼Œç„¶ååš PC ç«¯ï¼Œå› ä¸º PC ç«¯ä¼šè¦†ç›–ç§»åŠ¨ç«¯æ ·å¼

### Tailwind å¸¸ç”¨å“åº”å¼å¸ƒå±€çš„ç±»å

smã€mdã€lgã€xlã€2xl æ˜¯ Tailwind çš„å“åº”å¼æ–­ç‚¹ï¼Œåˆ†åˆ«å¯¹åº” 640pxã€768pxã€1024pxã€1280pxã€1536px

min-[320px]:text-center ä½¿ç”¨æ–­ç‚¹ä»»æ„å€¼ï¼Œè¡¨ç¤ºåœ¨ 320px åŠä»¥ä¸Šçš„å±å¹•ä¸Šï¼Œtext-center ç±»åç”Ÿæ•ˆ

container ç±»åè¡¨ç¤ºå†…å®¹åŒºåŸŸè¢«é™åˆ¶åœ¨å®¹å™¨å†…ï¼Œä¸ä¼šè¶…å‡ºå®¹å™¨è¾¹ç•Œï¼Œ
å®ƒè¡¨ç¤ºå®¹å™¨ï¼Œè·Ÿ padding ä¸€èµ·ç”¨æ–­ç‚¹çš„æ—¶å€™ä¸ä¼šå¾ˆç”Ÿç¡¬ï¼Œå¤–å±‚ä¹ŸåŠ ä¸€å±‚å…ƒç´ ä¼šæ§åˆ¶æ ·å¼æ›´åŠ çµæ´»

![image](/posts/responsive/image12.png)

```css
.container {
  width: 100%;
  @media (width >= 40rem /* 640px */) {
    max-width: 40rem /* 640px */;
  }
  @media (width >= 48rem /* 768px */) {
    max-width: 48rem /* 768px */;
  }
  @media (width >= 64rem /* 1024px */) {
    max-width: 64rem /* 1024px */;
  }
  @media (width >= 80rem /* 1280px */) {
    max-width: 80rem /* 1280px */;
  }
  @media (width >= 96rem /* 1536px */) {
    max-width: 96rem /* 1536px */;
  }
}
```

### Nextjs å›¾ç‰‡ ğŸ”¥

Nextjs ä¸­å›¾ç‰‡æœ‰ä¸‰ç§å­˜æ”¾çš„æ–¹å¼ï¼ˆNextjså®˜ç½‘è°ˆåˆ°ä¸¤ç§ï¼Œä½†è¿˜æ˜¯åŒºåˆ†ä¸‰ç§æ¯”è¾ƒå¥½ï¼‰

1ã€ ç¬¬ä¸€ç§æœ¬åœ°å›¾ç‰‡ï¼šæ”¾åˆ° public æ–‡ä»¶å¤¹ï¼Œä½¿ç”¨çš„æ—¶å€™ `src='/demo.png'`

```tsx
<Image src="/avatar.jpg" alt="test" width={100} height={100} />
```

![image](/posts/responsive/image3.png)

- å¿…é¡»è¦ç»™ width å’Œ heightï¼ˆæˆ–è€… fillï¼‰ï¼Œwidth å’Œ height å’Œå›¾ç‰‡çœŸå®å®½é«˜æ— å…³ï¼Œæ‰€ä»¥åªæœ‰æ¯”ä¾‹å…³ç³»æœ‰ç”¨ï¼Œä½†æ˜¯è¿˜æ˜¯æ¯ä¸ªå›¾ç‰‡å¤–éƒ½ç»™ä¸€ä¸ª div è®¾ç½®å®½é«˜ï¼Œé˜²æ­¢æ„å¤–æƒ…å†µï¼Œæ¯”å¦‚ gsap åŠ¨ç”»è®¡ç®—å°±ä¸€å®šéœ€è¦å®½é«˜ï¼Œ(å¦‚æœçˆ¶çº§ä¸åŠ å®½é«˜ï¼Œå›¾ç‰‡çš„æ˜¾ç¤ºå¤§å°å°±æ˜¯è®¾ç½®çš„ width å’Œ heightï¼Œä½†ä¸è¦è¿™æ ·åš)
- å›¾ç‰‡ä¼šè‡ªåŠ¨è½¬ webp æ ¼å¼
  ![image](/posts/responsive/image4.png)
- è‡ªåŠ¨è®¾ç½® loading="lazy"ï¼Œæ”¯æŒå›¾ç‰‡æ‡’åŠ è½½; decoding="async"ï¼Œæ”¯æŒå›¾ç‰‡å¼‚æ­¥è§£ç 
- å¦‚æœå›¾ç‰‡åœ¨é¦–å±å¯è§ï¼Œnextjs ä¼šæç¤ºæ·»åŠ  priority å±æ€§ï¼Œå’Œä¸åŠ çš„åŒºåˆ«æ˜¯æ²¡æœ‰ loading="lazy" å±æ€§
  ![image](/posts/responsive/image2.png)
  ![image](/posts/responsive/image1.png)
- å›¾ç‰‡çš„ srcset å±æ€§ï¼Œå¯ä»¥è®¾ç½®å›¾ç‰‡çš„å“åº”å¼ï¼Œåœ¨ç”µè„‘ä¸Šæ¸…æ™°åº¦æ¯”è¾ƒä½çš„æ˜¾ç¤ºå™¨æ‰æ˜¯ 1ï¼Œæ‰‹æœºå±å¹•å¾€å¾€æ¯”è¾ƒé«˜ï¼Œéƒ½ä¼šå¤§äº 2 ,è¿™é‡Œçš„ w=256 è·Ÿæˆ‘è®¾ç½®çš„ width={100} height={100} æœ‰å…³ï¼Œå¯ä»¥ç†è§£ä¸ºäºŒå€å›¾ï¼Œè·Ÿ [devicesizes](https://nextjs.org/docs/app/api-reference/components/image#devicesizes) é…ç½®æœ‰å…³ï¼›w=256 è¡¨ç¤ºå›¾ç‰‡çš„å®½åº¦æ˜¯ 256pxï¼Œq=75 è¡¨ç¤ºå›¾ç‰‡çš„è´¨é‡æ˜¯ 75%ï¼Œè·Ÿ [quality](https://nextjs.org/docs/app/api-reference/components/image#qualities) é…ç½®æœ‰å…³

```text
srcset="/_next/image?url=%2Favatar.jpg&w=128&q=75 1x,
        /_next/image?url=%2Favatar.jpg&w=256&q=75 2x"
```

![image](/posts/responsive/image5.png)

2ã€ ç¬¬äºŒç§æœ¬åœ°å›¾ç‰‡ï¼šæ”¾åˆ° app æ–‡ä»¶å¤¹ï¼Œé€šè¿‡æ¨¡å—å¯¼å…¥ä½¿ç”¨ï¼Œè¿™ç§æ–¹å¼å’Œç¬¬ä¸€ç§å·®ä¸å¤šï¼Œåªæ˜¯ä¸éœ€è¦ç»™ width å’Œ heightï¼Œnextjs ä¼šè·å–åŸå›¾çš„å°ºå¯¸æ¥è‡ªåŠ¨è®¾ç½®

```tsx
import DemoImage from './images/avatar.jpg'

const Test = () => {
  return <Image src={DemoImage} alt="test" />
}

export default Test
```

![image](/posts/responsive/image6.png)
![image](/posts/responsive/image7.png)

è¿™ç§æ–¹æ¡ˆè¿˜é€‚åˆåšå›¾ç‰‡æ¸è¿›å¼åŠ è½½ï¼Œä¹Ÿå°±æ˜¯å¯ä»¥åŠ  placeholder="blur" å±æ€§ï¼Œåœ¨å›¾ç‰‡åŠ è½½ä¹‹å‰æ˜¾ç¤ºä¸€ä¸ªæ¨¡ç³Šçš„å ä½ç¬¦ï¼ŒåŠ è½½å®Œæˆä¹‹åå†æ˜¾ç¤ºçœŸå®çš„å›¾ç‰‡

```text
<Image src={DemoImage} alt="test" placeholder="blur" />
```

![image](/posts/responsive/image8.png)

<video src="/posts/responsive/media9.mov" controls />

3ã€ ç¬¬ä¸‰ç§æ˜¯è¿œç¨‹å›¾ç‰‡é“¾æ¥ï¼Œä½¿ç”¨çš„æ—¶å€™ `src='https://example.com/demo.png'`ï¼Œä¸ºäº†å®‰å…¨ï¼Œéœ€è¦ [remotePatterns](https://nextjs.org/docs/app/api-reference/components/image#remotepatterns) é…ç½®ï¼Œä¹Ÿæ˜¯å¿…é¡»è®¾ç½® width å’Œ heightï¼ˆæˆ–è€… fillï¼‰ï¼ŒåŠŸèƒ½åŒç¬¬ä¸€ç§ï¼Œè¿œç¨‹å›¾ç‰‡ä¹Ÿå¯ä»¥ä½¿ç”¨ `placeholder="blur"`ï¼Œ
`blurDataURL=base64` æ¥åšä¸€ä¸ªæ¸è¿›åŠ è½½ï¼Œè¿™ç§æ–¹æ¡ˆåªä¼šå¤šåŠ è½½ä¸€å¼ å›¾ï¼Œä¸ä¼šåƒå°çº¢ä¹¦ä¸€æ ·å¤šåŠ è½½å¾ˆå¤šå›¾ç‰‡è¯·æ±‚ï¼Œå› ä¸ºå°çº¢ä¹¦æ˜¯æŠŠæ¯å¼ å›¾éƒ½åšå¯¹åº”æ¸è¿›åŠ è½½ï¼Œè€Œä¸æ˜¯åŒä¸€å¼ å›¾

![image](/posts/responsive/image10.png)

è¿œç¨‹å›¾ç‰‡å¾ˆå¸¸è§çš„è¿˜æœ‰åœ¨ä¸å®šå®½é«˜çš„æ—¶å€™ï¼Œä½¿ç”¨ fill ç»“åˆ sizes å±æ€§ï¼Œæ¥å®ç° [å›¾ç‰‡çš„å“åº”å¼](/posts/responsive#å›¾ç‰‡å“åº”å¼)

æ€è€ƒï¼šé‚£ä»€ä¹ˆæ—¶å€™ç”¨ç¬¬ä¸€ç§ï¼Œç¬¬äºŒç§ï¼Œç¬¬ä¸‰ç§å‘¢ï¼Ÿ

- ç¬¬ä¸€ç§ï¼šå¦‚æœå›¾ç‰‡æ˜¯æœ¬åœ°å›¾ç‰‡ï¼Œå›¾ç‰‡æ˜¯é™æ€èµ„æºï¼Œä¸éœ€è¦ç»è¿‡æ‰“åŒ…å¤„ç†ï¼Œç›´æ¥é€šè¿‡ URL è®¿é—®å³å¯ï¼›é€‚åˆåšé™æ€èµ„æºæ‰˜ç®¡ï¼Œæ¯”å¦‚ logoã€iconã€banner ç­‰ä¸ä¼šé¢‘ç¹å˜åŠ¨çš„å›¾ç‰‡ï¼›é€‚åˆéœ€è¦ CDN åŠ é€Ÿçš„åœºæ™¯ï¼Œå› ä¸º public ä¸‹çš„æ–‡ä»¶ä¼šåŸæ ·è¾“å‡ºåˆ°æœ€ç»ˆçš„é™æ€èµ„æºç›®å½•ï¼Œä¾¿äº CDN ç¼“å­˜å’Œåˆ†å‘ï¼›é€‚åˆ SEO ç›¸å…³çš„å›¾ç‰‡ï¼Œè·¯å¾„å›ºå®šï¼Œå®¹æ˜“è¢«æœç´¢å¼•æ“æ”¶å½•ã€‚
- ç¬¬äºŒç§ï¼šéœ€è¦åˆ©ç”¨ Next.js çš„å›¾ç‰‡ä¼˜åŒ–èƒ½åŠ›ï¼ˆå¦‚è‡ªåŠ¨å°ºå¯¸ã€æ¸è¿›å¼åŠ è½½ã€è‡ªåŠ¨æ ¼å¼è½¬æ¢ç­‰ï¼‰ï¼›å›¾ç‰‡å’Œç»„ä»¶/é¡µé¢å¼ºå…³è”ï¼Œå±äºç»„ä»¶ç§æœ‰èµ„æºï¼ˆå¦‚å¤´åƒã€å±€éƒ¨è£…é¥°å›¾ï¼‰ï¼›éœ€è¦è‡ªåŠ¨è·å–å›¾ç‰‡åŸå§‹å°ºå¯¸ï¼Œå‡å°‘æ‰‹åŠ¨ç»´æŠ¤å®½é«˜ï¼›éœ€è¦ç”¨åˆ° Next.js çš„å›¾ç‰‡å ä½ç¬¦ï¼ˆblurDataURLï¼‰ç­‰é«˜çº§ç‰¹æ€§ï¼›
- å¦‚æœå›¾ç‰‡æ˜¯è¿œç¨‹å›¾ç‰‡ï¼Œä½¿ç”¨ç¬¬ä¸‰ç§

æ‹“å±•ï¼šè¶…æœ‰ç”¨çš„å›¾ç‰‡å±æ€§

```ts
const nextConfig = {
  images: {
    // è®¾ç½®å›¾ç‰‡çš„ä¸‹è½½æ–¹å¼ï¼Œä¹Ÿå°±æ˜¯åªèƒ½ä¸‹è½½ï¼Œæ— æ³•é€šè¿‡ url æ‰“å¼€ï¼Œè¿™æ ·ä¸ä¼šæµªè´¹è‡ªå·±æœåŠ¡å™¨èµ„æº
    contentDispositionType: 'attachment',
    // è®¾ç½®å›¾ç‰‡çš„ CSPï¼Œå¯ä»¥é¿å…å›¾ç‰‡æºå¸¦è„šæœ¬æ”»å‡»
    contentSecurityPolicy: "default-src 'self'; script-src 'none'; sandbox;"
  }
}
```

å› ä¸ºæœ¬ç¯‡æ–‡ç« å¤šæ•°æ˜¯ç”¨mdè¯­æ³•ï¼Œæ²¡æœ‰ä¸Šé¢ä¸¤ä¸ªåŠŸèƒ½ï¼Œæ‰€ä»¥ä¸‹é¢è¿™å¼ å›¾ç‰‡ä½¿ç”¨çš„ nextjs çš„ Image ç»„ä»¶æ¥æµ‹è¯•ï¼Œå³é”®åœ¨æ–°æ ‡ç­¾ä¸­æ‰“å¼€å›¾ç‰‡å°±å¯ä»¥çœ‹åˆ°æ•ˆæœï¼Œä¼šç›´æ¥ä¸‹è½½å›¾ç‰‡

<div className="w-full">
  <Image src="/posts/responsive/image11.png" alt="test" width={1280} height={1280} />
</div>

è®°å½•é‡åˆ°çš„å‘ï¼šåšè¥é”€æ´»åŠ¨æµ·æŠ¥çš„åº“ html2canvas å’Œ Image æ ‡ç­¾ä¸€èµ·ä½¿ç”¨å¯èƒ½ä¼šæœ‰å…¼å®¹æ€§é—®é¢˜

### Webp çš„å…¼å®¹æ€§

æ–¹æ¡ˆä¸€ï¼šåœ¨æœ‰æœåŠ¡ç«¯èƒ½åŠ›çš„æƒ…å†µä¸‹ï¼Œæ¯”å¦‚é˜¿é‡Œäº‘ OSSï¼ŒNextjsï¼Œå®ƒä»¬ä¼šæ ¹æ® Accept è¿™ä¸ªè¯·æ±‚å¤´æ¥åˆ¤æ–­æ˜¯å¦è¿”å› webpï¼ˆæ¨èï¼‰

![image](/posts/responsive/image13.png)

æ–¹æ¡ˆäºŒï¼šåŸç”Ÿ picture æ ‡ç­¾

```html
<picture>
  <source srcset="image.webp" type="image/webp" />
  <source srcset="image.png" type="image/png" />
  <img src="image.png" alt="image" />
</picture>
```

æ–¹æ¡ˆä¸‰ï¼šJS è„šæœ¬ ï¼ˆä¸æ¨èï¼‰

```js
function checkWebPSupport() {
  let canvas = document.createElement('canvas')
  if (canvas.toDataURL) {
    return canvas.toDataURL('image/webp').indexOf('data:image/webp') === 0
  }
  return false
}
```

### å›¾ç‰‡å“åº”å¼ ğŸ”¥

èƒŒæ™¯ï¼šå“åº”å¼çš„é¡¹ç›®ï¼Œåœ¨å¤§å±çš„æ—¶å€™åº”è¯¥åŠ è½½å¤§å›¾ï¼Œå°å±çš„æ—¶å€™åº”è¯¥åŠ è½½å°å›¾ã€‚å¦‚æœåœ¨å°å±å¹•åŠ è½½äº†ä¸€å¼ å¾ˆå¤§çš„å›¾ï¼Œé‚£ä¼šæµªè´¹èµ„æºï¼›å¦‚æœåœ¨å¤§å±å¹•åŠ è½½äº†ä¸€å¼ å¾ˆå°çš„å›¾ï¼Œé‚£çœ‹èµ·æ¥æœ‰é¢—ç²’æ„Ÿï¼›æ›´å¤æ‚çš„æ˜¯ï¼ŒæŸäº›è®¾å¤‡å…·æœ‰é«˜åˆ†è¾¨ç‡å±å¹•ï¼Œéœ€è¦æ¯”é¢„æœŸçš„æ›´å¤§çš„å›¾åƒæ‰èƒ½å¾ˆå¥½åœ°æ˜¾ç¤ºã€‚ä¸‹é¢åªè®¨è®º html æ–¹æ¡ˆï¼ŒèƒŒæ™¯å›¾æ–¹æ¡ˆå‚è€ƒ [Responsive images 101 - part 8: CSS images](https://cloudfour.com/thinks/responsive-images-101-part-8-css-images/)

1ã€åŒä¸€å›¾ç‰‡çš„å“åº”å¼ï¼ˆsizes srcsetï¼‰

å¯¹äºåŒä¸€å›¾ç‰‡æ¥è¯´ï¼Œå¯ä»¥ä½¿ç”¨ sizes å’Œ fill å±æ€§ï¼ˆfill å±äº nextjs çš„ Image ç»„ä»¶çš„å±æ€§ï¼Œnextjs åšåŒä¸€å›¾ç‰‡çš„å“åº”å¼æ›´åŠ æ–¹ä¾¿ï¼‰ï¼Œåªéœ€è¦æä¾›ä¸€å¼ å¤§å›¾ï¼Œç„¶åè¿™ä¸¤ä¸ªå±æ€§å¯ä»¥æ§åˆ¶å›¾ç‰‡çš„æ˜¾ç¤ºæ–¹å¼ï¼Œé€šè¿‡è¿™ç§æ–¹å¼å°±èƒ½å®ç°å›¾ç‰‡çš„å“åº”å¼

å½“è¿œç¨‹å›¾ç‰‡(æˆ–è€…æœ¬åœ°å›¾ç‰‡) width height ä¸ç¡®å®šçš„æ—¶å€™ï¼Œå¯ä»¥ä½¿ç”¨å›¾ç‰‡çš„ fill å±æ€§ï¼Œå®ƒä½¿å›¾åƒæ‰©å±•åˆ°çˆ¶å…ƒç´ çš„å¤§å°ï¼Œå¹¶ä¸”å¯ä»¥çœ‹åˆ°å›¾ç‰‡ä¼šæœ‰ä¸ª absolute å±æ€§ï¼Œæ‰€ä»¥çˆ¶å…ƒç´ å¿…é¡» â€œrelativeâ€ï¼Œ â€œfixedâ€ï¼Œ â€œabsoluteâ€ï¼Œç„¶åå›¾ç‰‡å¯ä»¥è®¾ç½® objectFit å±æ€§ï¼Œæ¥æ§åˆ¶å›¾ç‰‡çš„æ˜¾ç¤ºæ–¹å¼ã€‚

```jsx
<Image
  src="https://img.res.meizu.com/img/download/uc/17/35/38/56/70/173538567/w200h200"
  alt="test"
  fill
  sizes="100vw"
  objectFit="cover"
/>
```

```jsx
<div className={'relative size-10'}>
  <Image
    src="/avatar.jpg"
    fill
    sizes="(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw"
    alt="test"
    objectFit="cover"
  />
</div>
```

å¯¹äº [sizes](https://nextjs.org/docs/app/api-reference/components/image#sizes) å’Œ srcset å±æ€§ï¼Œsizes å±æ€§æ˜¯ç”¨æ¥è®¾ç½®å›¾ç‰‡çš„å°ºå¯¸ï¼Œsrcset å±æ€§æ˜¯ç”¨æ¥è®¾ç½®å›¾ç‰‡çš„æºï¼Œè¿™ä¸¤ä¸ªå±æ€§æ˜¯ç”¨æ¥æ§åˆ¶å›¾ç‰‡çš„æ˜¾ç¤ºæ–¹å¼ã€‚

æ³¨æ„ Nextjs å¯¹å›¾ç‰‡å¤„ç†ç¼©å°æ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯æ”¾å¤§ä¸è¡Œï¼Œæ‰€ä»¥ä¸‹é¢çš„æ¯”å¦‚åŒ¹é…ä¸Šäº† 3840ï¼Œä½†æ˜¯åŸå›¾æœ€å¤§å®½åº¦åªæœ‰ 200ï¼Œé‚£ä¹Ÿåªæ˜¯æ˜¾ç¤º 200 çš„å›¾ï¼Œä¸ä¼šæ”¾å¤§

100vw è®¡ç®—è§„åˆ™å¤§çº¦ä¸ºè§†çª—å®½åº¦ï¼ˆå¦‚ 800pxï¼‰ \* DPRï¼ˆå¦‚2ï¼‰ â†’ éœ€è¦ 1600px ç‰©ç†å®½åº¦çš„å›¾ç‰‡ï¼Œæ‰€ä»¥ä¼šåŒ¹é…åˆ° 1920 çš„å›¾ç‰‡ï¼›`(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw` è¡¨ç¤ºåœ¨ 768px åŠä»¥ä¸‹çš„å±å¹•ä¸Šï¼Œå›¾ç‰‡çš„å®½åº¦ä¸º 100vwï¼Œåœ¨ 1200px åŠä»¥ä¸‹çš„å±å¹•ä¸Šï¼Œå›¾ç‰‡çš„å®½åº¦ä¸º 50vwï¼Œåœ¨ 1200px åŠä»¥ä¸Šçš„å±å¹•ä¸Šï¼Œå›¾ç‰‡çš„å®½åº¦ä¸º 33vwï¼Œä¹Ÿå°±æ˜¯å¹³æ¿çš„æ—¶å€™è¦ \* 1/2 ï¼Œpcçš„æ˜¯ \* 1/3

```text
sizes="100vw"

srcset="
  /_next/image?url=...&w=640&q=75 640w,
  /_next/image?url=...&w=750&q=75 750w,
  /_next/image?url=...&w=828&q=75 828w,
  /_next/image?url=...&w=1080&q=75 1080w,
  /_next/image?url=...&w=1200&q=75 1200w,
  /_next/image?url=...&w=1920&q=75 1920w,
  /_next/image?url=...&w=2048&q=75 2048w,
  /_next/image?url=...&w=3840&q=75 3840w
"
```

![image](/posts/responsive/image14.png)

2ã€ä¸åŒå›¾ç‰‡ï¼ˆä¸ºä¸åŒå¸ƒå±€æä¾›è£å‰ªå›¾åƒï¼‰çš„å“åº”å¼ï¼ˆpictureï¼‰

é€šè¿‡ media å±æ€§ï¼Œæ¥åˆ¤æ–­å±å¹•å¤§å°ï¼Œç„¶åæä¾›ä¸åŒçš„å›¾ç‰‡ï¼Œæ¥å®ç°å›¾ç‰‡çš„å“åº”å¼

<Sandpack>

```js
export default function App() {
  return (
    <picture style={{ width: '100px', height: '100px' }}>
      <source
        media="(max-width: 799px)"
        srcset="https://ssm.res.meizu.com/admin/2023/10/30/1277278717/zLSkr3lTD0.png"
      />
      <source
        media="(min-width: 800px)"
        srcset="https://ssm.res.meizu.com/admin/2022/10/18/1780834568/xfMvystede.jpg"
      />
      <img src="https://ssm.res.meizu.com/admin/2022/10/18/1780834568/xfMvystede.jpg" alt="æµ‹è¯•å›¾ç‰‡" />
    </picture>
  )
}
```

</Sandpack>

### å“åº”å¼å¸ƒå±€

1ã€è§„åˆ™çš„å“åº”å¼å¸ƒå±€

<video src="/posts/responsive/media2.mov" controls />

å¯¹äºè§„åˆ™çš„å¸ƒå±€ï¼Œå¯ä»¥ä½¿ç”¨ flexï¼Œgrid å¸ƒå±€ï¼Œæ¥å®ç°å›¾ç‰‡çš„å“åº”å¼ï¼Œä¸Šé¢çš„ä»£ç å°±æ˜¯ grid å¸ƒå±€ï¼Œæ³¨æ„çš„æ˜¯å¤–å±‚æœ‰ä¸€ä¸ª containerï¼Œé‡Œé¢çš„å›¾ç‰‡éœ€è¦å®šå¥½å®½é«˜æ¯”

<Sandpack>

```js
export default function App() {
  const arr = Array(6).fill({
    src: 'https://ssm.res.meizu.com/admin/2022/10/18/1780834568/xfMvystede.jpg',
    alt: 'æµ‹è¯•å›¾ç‰‡'
  })

  return (
    <div
      className="container mx-auto grid gap-4 xl:gap-6"
      style={{ gridTemplateColumns: 'repeat(auto-fill,minmax(320px,1fr))' }}
    >
      {arr.map((item, index) => (
        <div className="aspect-square">
          <img key={index} src={item.src} className="h-full w-full object-cover" alt={item.alt} />
        </div>
      ))}
    </div>
  )
}
```

```css
.container {
  width: 100%;
  margin-left: auto;
  margin-right: auto;
  padding-left: 1rem;
  padding-right: 1rem;
}

@media (min-width: 640px) {
  .container {
    max-width: 640px;
  }
}

@media (min-width: 768px) {
  .container {
    max-width: 768px;
  }
}

@media (min-width: 1024px) {
  .container {
    max-width: 1024px;
  }
}

@media (min-width: 1280px) {
  .container {
    max-width: 1280px;
  }
}

.mx-auto {
  margin-left: auto;
  margin-right: auto;
}

.grid {
  display: grid;
}

.gap-4 {
  gap: 1rem;
}

.xl\:gap-6 {
  @media (min-width: 1280px) {
    gap: 1.5rem;
  }
}

.aspect-square {
  aspect-ratio: 1 / 1;
}

.h-full {
  height: 100%;
}

.w-full {
  width: 100%;
}

.object-cover {
  object-fit: cover;
}
```

</Sandpack>

```js
<div className="grid grid-cols-1 gap-4 md:grid-cols-2 xl:grid-cols-3 xl:gap-6"></div>

// æˆ–è€…
<div className="grid grid-cols-[repeat(auto-fill,minmax(400px,1fr))] gap-4 xl:gap-6"></div>
```

2ã€ä¸è§„åˆ™çš„å“åº”å¼å¸ƒå±€

æœ‰æ—¶å€™ï¼Œh5 å’Œ pc ç›¸å·®å¤ªå¤§ï¼ŒåŸºæœ¬æ— æ³•æ”¹å˜å¸ƒå±€æ¥å®ç°ï¼Œæ‰€ä»¥æœ€å¥½çš„æ–¹æ¡ˆæ˜¯ä½¿ç”¨è‡ªé€‚åº”å¸ƒå±€ + åª’ä½“æŸ¥è¯¢ï¼Œä½äº 768 æˆ–è€… 1024 æˆ–è€… 1280 ä½¿ç”¨è‡ªé€‚åº”å¸ƒå±€ï¼Œå¤§äº1280px ä½¿ç”¨ pc å¸ƒå±€
